{% extends "core/base.html" %}

{% block title %}
    All Books
{% endblock %}

{% block style %}

{% endblock %}

{% block content %}
    {% include "core/components/navbar.html" %}
    <section id="all-books">
        <input type="text" id="input">
        <button onclick="getbooks()">Get Books</button>
        <div id="output"></div>
    </section>
{% endblock %}

{% block js %}
    <script>
        async function getbooks() {
            const getBooksByCategory = async (category) => {
                try {
                    const response = await fetch(`https://openlibrary.org/subjects/${category}.json`);
                    const books = await response.json();
                    return books;
                } catch (error) {
                    console.log(error);
                    // Handle any potential errors here
                    return null;
                }
            };

// Example usage:
            const category = "drama";
            const books = await getBooksByCategory(category);
            console.log(books);

        }
    </script>
{% endblock %}